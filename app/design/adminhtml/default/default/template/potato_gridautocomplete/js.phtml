<script type="text/javascript">
(function(){
    if (Object.isUndefined(<?php echo $this->getJsGridObjectName();?>)) {
        return;
    }
    <?php if (count($this->getItems()) > 0): ?>
	var originalPreInitCallback = <?php echo $this->getJsGridObjectName();?>.preInitCallback;
    if (!Object.isFunction(originalPreInitCallback)) {
        originalPreInitCallback = Prototype.emptyFunction;
    }
    <?php echo $this->getJsGridObjectName();?>.preInitCallback = function(){
		originalPreInitCallback();
        <?php foreach ($this->getItems() as $item):?>
        new potatoGridAutocomplete(
            <?php echo $item->getTargetElIds();?>,
            "po-gridautocomplete-container-" + <?php echo $item->getId();?>,
            <?php echo $item->getUrl();?>,
            {}
        );
        <?php endforeach;?>
    };
    Event.observe(window, 'load', function(e){
        <?php echo $this->getJsGridObjectName();?>.preInitCallback();
    });
    <?php endif;?>
})();
</script>